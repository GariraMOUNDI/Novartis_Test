{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Novartis\\\\with-typescript\\\\src\\\\pages\\\\app\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { MyList, MyLayout, MySelectBox, MyChart, MyErrorPage } from \"../../components\";\nimport { GlobalState } from \"../api\";\nimport { Container } from \"@material-ui/core\";\n\nvar IndexPage = function IndexPage(props) {\n  _s();\n\n  var getItems = function getItems() {\n    var year = new Date().getFullYear() - 1;\n    var items = [];\n\n    for (var i = 10; i >= 0; i--) {\n      items.push(\"\".concat(year - i));\n    }\n\n    return items;\n  };\n\n  var _useState = useState(props),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var onChangeDate = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(startDate, endDate) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(startDate, endDate);\n              _context.t0 = setState;\n              _context.next = 4;\n              return GlobalState(startDate, endDate);\n\n            case 4:\n              _context.t1 = _context.sent;\n              (0, _context.t0)(_context.t1);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onChangeDate(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return state.statistics.sexDivision ? __jsx(MyLayout, {\n    title: \"Drug Adverse Events\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }), __jsx(Container, {\n    style: {\n      display: \"flex\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }, __jsx(MyList, {\n    headers: [\"Indications\", \"Count\", \"Percentage(%)\"],\n    title: \"Drug indications\",\n    data: state.statistics.drugDivision,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 21\n    }\n  }), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 21\n    }\n  }, __jsx(MySelectBox, {\n    items: getItems(),\n    onYearChange: onChangeDate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 25\n    }\n  }), __jsx(MyChart, {\n    data: state.chartData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 25\n    }\n  }), __jsx(MyList, {\n    headers: [\"Gender\", \"Count\", \"Percentage(%)\"],\n    title: \"Gender percentage\",\n    data: state.statistics.sexDivision,\n    genderTable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 25\n    }\n  })))) : __jsx(MyErrorPage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  });\n};\n\n_s(IndexPage, \"Qta9VZiR8E1vh1Yr4QdkRJZ4jy8=\");\n\n_c = IndexPage;\n\nIndexPage.getInitialProps = function () {\n  return GlobalState(\"2002\", \"2002\");\n};\n\nexport default IndexPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"IndexPage\");","map":{"version":3,"sources":["D:/Novartis/with-typescript/src/pages/app/index.tsx"],"names":["React","useState","MyList","MyLayout","MySelectBox","MyChart","MyErrorPage","GlobalState","Container","IndexPage","props","getItems","year","Date","getFullYear","items","i","push","state","setState","onChangeDate","startDate","endDate","console","log","statistics","sexDivision","display","drugDivision","chartData","getInitialProps"],"mappings":"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","sourcesContent":["\r\n\r\nimport React, {useState} from \"react\";\r\nimport {MyList, MyLayout, MySelectBox, MyChart, MyErrorPage } from \"../../components\";\r\nimport {GlobalState, GlobalStateProps} from \"../api\";\r\nimport {Container} from \"@material-ui/core\";\r\n\r\nconst IndexPage = (props : GlobalStateProps) => {\r\n    const getItems = () => {\r\n        let year = (new Date().getFullYear()) - 1\r\n        var items = []\r\n        for ( let i=10; i>=0 ; i--){\r\n            items.push(`${year - i}`)\r\n        }\r\n        return items\r\n    }\r\n    const [ state, setState] = useState(props)\r\n    const onChangeDate = async (startDate: string, endDate: string) => {\r\n        console.log(startDate, endDate)\r\n        setState(await GlobalState(startDate, endDate))\r\n    }\r\n    return (\r\n        state.statistics.sexDivision ? (\r\n            <MyLayout title={\"Drug Adverse Events\"}>\r\n                <hr/>\r\n                <Container style = {{ display : \"flex\" }}>\r\n                    <MyList headers={[\"Indications\", \"Count\", \"Percentage(%)\"]} title={\"Drug indications\"} data={state.statistics.drugDivision} />\r\n                    <Container>\r\n                        <MySelectBox items={getItems()} onYearChange={onChangeDate}/>\r\n                        <MyChart data={state.chartData}/>\r\n                        <MyList headers={[\"Gender\", \"Count\", \"Percentage(%)\"]} title={\"Gender percentage\"} data={state.statistics.sexDivision} genderTable={true}/>\r\n                    </Container>\r\n                </Container>\r\n            </MyLayout>\r\n        ) : (\r\n            <MyErrorPage/>\r\n        )\r\n    )\r\n}\r\n\r\nIndexPage.getInitialProps = () => GlobalState(\"2002\", \"2002\")\r\n\r\nexport default IndexPage\r\n"]},"metadata":{},"sourceType":"module"}