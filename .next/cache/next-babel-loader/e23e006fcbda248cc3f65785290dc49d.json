{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { MyList, MyLayout, MySelectBox, MyChart, MyErrorPage } from \"../../components\";\nimport { GlobalState } from \"../api\";\nimport { Container } from \"@material-ui/core\";\n\nconst IndexPage = props => {\n  const getItems = () => {\n    let year = new Date().getFullYear() - 1;\n    var items = [];\n\n    for (let i = 10; i >= 0; i--) {\n      items.push(`${year - i}`);\n    }\n\n    return items;\n  };\n\n  const {\n    0: state,\n    1: setState\n  } = useState(props);\n\n  const onChangeDate = async (startDate, endDate) => {\n    console.log(startDate, endDate);\n    setState(await GlobalState(startDate, endDate));\n  };\n\n  return state.statistics.sexDivision ? __jsx(MyLayout, {\n    title: \"Drug Adverse Events\"\n  }, __jsx(\"hr\", null), __jsx(Container, {\n    style: {\n      display: \"flex\"\n    }\n  }, __jsx(MyList, {\n    headers: [\"Indications\", \"Count\", \"Percentage(%)\"],\n    title: \"Drug indications\",\n    data: state.statistics.drugDivision\n  }), __jsx(Container, null, __jsx(MySelectBox, {\n    items: getItems(),\n    onYearChange: onChangeDate\n  }), __jsx(MyChart, {\n    data: state.chartData\n  }), __jsx(MyList, {\n    headers: [\"Gender\", \"Count\", \"Percentage(%)\"],\n    title: \"Gender percentage\",\n    data: state.statistics.sexDivision,\n    genderTable: true\n  })))) : __jsx(MyErrorPage, null);\n};\n\nIndexPage.getInitialProps = () => GlobalState(\"2002\", \"2002\");\n\nexport default IndexPage;","map":null,"metadata":{},"sourceType":"module"}